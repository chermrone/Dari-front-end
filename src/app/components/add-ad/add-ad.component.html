<div class="img">
  <p>POST AD</p>
  <br>
  <section style='min-height: 600px;'>
    <form #f="ngForm" style="color: #c6c8ca;" (ngSubmit)="save(f)">
      <div class="form-group ">

        <div class="row flex alert alert-danger" *ngIf="notif!=null" style="width: 30%;margin-left: 35%">{{notif}}</div>
        <div class="row flex alert alert-success" *ngIf="msgComplete!=null"
             style="width: 30%;margin-left: 35%">{{msgComplete}}</div>
        <div class="row flex">
          <div style="width: 50%" class=" flex row alert alert-danger" *ngIf="titleAd.invalid && titleAd.touched">
            <div>the title is a required field</div>
          </div></div>
        <div class="row flex">
          <div style="width: 50%" class=" flex row alert alert-danger" *ngIf="price.invalid && price.touched">
            <div *ngIf="price.errors.pattern">
              the price must be a positive number
            </div>
            <div *ngIf="price.errors.required">the price is a required field</div></div>
          </div>
        <div class="row flex">
        <div style="width: 50%" class=" flex row alert alert-danger" *ngIf="city.invalid && city.touched">
            <div>the city is a required field</div>
          </div>
        </div>
      </div>
      <div class="row flex">

        <div class="col-4"><label for="exampleInputEmail1">Title of the ad</label>
          <input type="text" name="titleAd" ngModel #titleAd="ngModel" class="form-control" id="exampleInputEmail1"
                 aria-describedby="emailHelp" placeholder="Enter title" required>
        </div>

        <div class="col-2"><label>Category</label>

          <select id="inputState" name="type" ngModel #type="ngModel" class="form-control">
            <option *ngFor="let key of keysBat" [value]="key">{{symbolsBat[key]}}</option>
          </select>
        </div>
      </div>


      <div class="row flex">
        <div class="col-2" *ngIf="symbolsBat.ground!=type.value"><label>Type</label>

          <select id="inputState" name="typead" ngModel #typead="ngModel" class="form-control">
            <option *ngFor="let symbol of keysTyp" [value]="symbol">{{symbols[symbol]}}</option>
          </select>

        </div>
        <div *ngIf="symbolsBat.ground!=type.value" class="col-1"><label for="exampleInputPassword1">№ rooms</label>
          <input type="number" class="form-control" id="exampleInputEmail1"
                 aria-describedby="emailHelp" placeholder="№" name="numbreOfRooms" min="0" ngModel
                 #numbreOfRooms="ngModel">
        </div>
        <div *ngIf="symbolsBat.ground!=type.value" class="col-1"><label for="exampleInputPassword1">№
          bathrooms</label>
          <input type="number" class="form-control" id="exampleInputEmail1"
                 aria-describedby="emailHelp" placeholder="№" name="numberOfBathrooms" ngModel
                 #numberOfBathrooms="ngModel" min="0">
        </div>
        <div class="col-2"><label for="exampleInputEmail1">City</label>
          <!-- <input type="text" class="form-control" id="exampleInputEmail1"
                  aria-describedby="emailHelp" placeholder="Enter city" name="city" ngModel #city="ngModel">-->
          <select id="inputState" name="city" ngModel #city="ngModel" class="form-control" required>
            <option *ngFor="let key of cities">{{key}}</option>
          </select>
        </div>

      </div>

      <div class="row flex">
        <div class="col-1" *ngIf="symbolsBat.ground!=type.value"><label for="exampleInputPassword1">built area</label>
          <input type="number" class="form-control" id="exampleInputEmail1"
                 aria-describedby="emailHelp" placeholder="m²" name="builda" min="0" ngModel #builda="ngModel">
        </div>
        <div class="col-1" *ngIf="symbolsBat.apartment!=type.value"><label for="exampleInputPassword1">Total
          area</label>
          <input type="number" class="form-control" id="exampleInputEmail1"
                 aria-describedby="emailHelp" placeholder="m²" min="0" name="area" ngModel #area="ngModel" required>
        </div>
        <div class="col-2" *ngIf="symbolsBat.ground!=type.value"><label for="exampleInputEmail1">Check-In</label>
          <input type="date" class="form-control" id="exampleInputEmail1"
                 aria-describedby="emailHelp" placeholder="Enter email" name="checkInDate" ngModel
                 #checkInDate="ngModel">
        </div>
        <div class="col-2" *ngIf="symbolsBat.ground!=type.value "><label for="exampleInputEmail1">Check-Out</label>
          <input type="date" class="form-control" id="exampleInputEmail1"
                 aria-describedby="emailHelp" placeholder="Enter email" name="checkOutDate" ngModel
                 #checkOutDate="ngModel">
        </div>
      </div>


      <div class="row flex textarea">
        <div class="col-1"><label for="exampleInputPassword1">price</label>
          <input type="number" class="form-control" id="exampleInputEmail1"
                 aria-describedby="emailHelp" placeholder="dt" name="price" min="0" ngModel pattern="[0-9]+" required
                 #price="ngModel">
        </div>
        <textarea class="form-control col-5 " id="exampleFormControlTextarea1" rows="3"
                  required id="message" placeholder="Description" name="description" ngModel
                  #description="ngModel"></textarea>
      </div>
      <div class="row flex textarea" >
        <div class="col-3 premium flex" *ngIf="roles.includes('ADMIN') || roles.includes('PREMIUM')"><label for="exampleInputPassword1">Are you premium ? </label>
          <div class="container be">
            <button class="btn btn-tn btn-1" (click)="EstimationPrice(f)">Estimation price</button>
          </div>
          <div class="response">
            {{estimationPrice}}
            <div *ngIf="estimationPrice!=null">dt</div>
          </div>
        </div>
        <div class="col-2 premium flex">
          <div class="container be" style="" *ngIf="roles.includes('ADMIN') || roles.includes('PREMIUM')">
            <button class="btn btn-2 btn-tn" (click)="EstimationDuration(f)">Estimation <br> duration</button>
          </div>
          <div class="response">{{estimationDuration}}
            <div *ngIf="estimationDuration!=null">days</div>
          </div>
        </div>

      </div>
      <!--<div class="row file contour flex">
    <div><input type="file" class="input" multiple></div>
        <p class="file">Drag your files here or click in this area.</p></div>-->
      <div class="flex marg">
        <div *ngFor="let progressInfo of progressInfos" class="mb-2">
          <span>{{ progressInfo.fileName }}</span>
          <div class="progress">
            <div
              class="progress-bar progress-bar-info progress-bar-striped"
              role="progressbar"
              attr.aria-valuenow="{{ progressInfo.value }}"
              aria-valuemin="0"
              aria-valuemax="100"
              [ngStyle]="{ width: progressInfo.value + '%' }"
            >
              {{ progressInfo.value }}%
            </div>
          </div>
        </div>
      </div>
      <label class="btn btn-default">
        <div> pictures</div>
        <input type="file" style="font-weight: 600;font-size: 10px" multiple (change)="selectFiles($event)"/>
      </label>

      <div class="flex marg col-3" style="margin-left: 35%">
        <div *ngFor="let progressInfo of progressInfosVid" class="mb-2">
          <span>{{ progressInfo.fileName }}</span>
          <div class="progress">
            <div
              class="progress-bar progress-bar-info progress-bar-striped"
              role="progressbar"
              attr.aria-valuenow="{{ progressInfo.value }}"
              aria-valuemin="0"
              aria-valuemax="100"
              [ngStyle]="{ width: progressInfo.value + '%' }"
            >
              {{ progressInfo.value }}%
            </div>
          </div>
        </div>
      </div>
      <label class="btn btn-default">
        <div> videos</div>
        <input type="file" style="font-weight: 600;font-size: 10px" (change)="selectvideos($event)"/>
      </label>
      <div class="response" role="alert">{{ message }}</div>
      <div class="row flex">
        <button type="submit" [disabled]="verif==true && f.invalid" (click)="PostAd(f)" class="btn btn-ghost"><span
          style="letter-spacing: 3px !important;">ADD</span>
        </button>
      </div>
    </form>
  </section>
</div>

